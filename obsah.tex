%=========================================================================
% (c) Michal Bidlo, Bohuslav Køena, 2008

\chapter{Úvod}

%distribuovane systemy a komunikace mezi nimi
%DCOM,RMI,RPC,WS,REST a jejich vývoj
%nové výzvy pøi testování webových slu¾eb SOA

 


\chapter{Základní pojmy}
V této kapitole je popsána vìt¹ina dùle¾itých pojmù a zkratek, které se vyskytují dále v práci nebo jsou dùle¾ité pro objasnìní nìkterého z pou¾itých principù. Nejdøíve budou popsány dvì základní architektury, kterých týká celá tato práce. Dále budou popsány principy transakcí a jejich roz¹íøení na distribuované systémy. V poslední èásti základních pojmù jsou popsány souèásti platformy programovacího jazyka Java.

\subsubsection*{Hypermédia}
Pojem hypermédia poprvé pou¾il Ted Nelson jako zobecnìní pojmu hypertext. Hypertext jsou textové dokumenty propojené pomocí odkazù, zatímco hypermédia roz¹iøuje pojem hypertext na jakoukoliv formu média. Tedy jsou to média propojené pomocí odkazù.

\subsubsection*{Serializace a Deserializace}
Postup, pøi kterém je objekt nebo datová struktura pøeveden do urèitého formátu. Tento formát musí umo¾òovat ulo¾ení datové struktury napø. na pevný disk nebo jej odeslat pomocí sítì na vzdálený stroj. Deserializace je inverzní postup, pøi kterém je datová struktura pøevedena z serializované podoby zpìt do své pùvodní.


\subsubsection*{HTML}
HTML je zkratka pro Hypertext Markup Language \cite{HTML}, co¾ je znaèkovací jazyk pro vytváøení strukturovaných dokumentù na webu. HTML umo¾òuje vkládat sémantické znaèky, které jsou zpravidla párové. Mezi páry znaèek tzv. tagù je umístìn text, který je na základì znaèek interpretován webovým prohlí¾eèem

\subsubsection*{HTTP}
HTTP je zkratka pro Hypertext Transfer Protocol \cite{HTTP}. Je to protokol pro výmìnu hypertextových dokumentù ve formátu HTML. Výmìna dokumentù probíhá formou dotaz-odpovìï. 

\subsubsection*{URI} 
Universal Resource Identifier zkratka pro jednotný identifikátor zdroje. Je textový øetìzec, který má definovanou strukturu. Slou¾í k identifikaci zdroje v poèítaèových sítích, zejména internetu. Pod pojmem zdroj je v tomto kontextu my¹len dokument nebo slu¾ba. URI je slo¾eno z øetìzce umístìní zdroje (URL, Universal Resource Locator) a øetìzce názvu zdroje (URN, Univesal Resource Name).


\subsubsection*{XML}
XML je zkratka pro Extensible Markup Language \cite{XML}. Je to obecný znaèkovací jazyk, kterým je mo¾no vytváøet konkrétní znaèkovací jazyky. Pou¾ívá se pro pøená¹ení dat mezi webovými aplikacemi a vytváøení dokumentù. Pøi vytváøení dokumentù se pomocí znaèek oznaèuje význam textu, co¾ hraje velkou roli napø. pøi vyhledávání informací v dokumentu.

\subsubsection*{SOAP} 
SOAP je pùvodnì zkratka pro Simple Object Acsess Protocol, ale od verze 1.2 se pou¾ívá pouze SOAP jako samostatný pojem \cite{SOAP}. Specifikuje protokol pro výmìnu strukturovaných a typovaných informací v decentralizovaných a distribuovaných sítích. Pou¾ívá XML pro definování sady funkcí pro vytváøení a výmìnu zpráv nad rùznými podpùrnými protokoly. SOAP byl vyvinut tak, aby byl nezávislý na transportních protokolech. 


\subsubsection*{REST}
Zkratka REST znamená REpresentation State Transfer. Oznaèuje architektonický styl pro hypermediální distribuované systémy. V tìchto systémech jsou ulo¾eny dokumenty nebo slu¾by, které jsou identifikovány pomocí URI.  REST není pøímo svázán s konkrétním komunikaèním protokolem. Jeliko¾ HTTP protokol nejlépe vyhovuje principùm REST , je s tímto stylem ve vìt¹inì pøípadù spojován.


\subsubsection*{Volnì svázaný systém}
\label{LC}Volnì svázané (loosely coupled)\cite{SOA} systémy obsahují na sobì nezávislé komponenty, které spolu komunikují a tak vytváøejí po¾adovaný systém. Nezávislost tìchto komponent spoèívá v mo¾nosti jejich obmìny. Ve volnì svázaném systému se mohou jednotlivé komponenty uvnitø mìnit(verze, implementace, atd.) ani¾ by to negativnì zasáhlo daný systém.

\subsubsection*{Tìsnì svázaný systém} 
 Tìsnì svázané (tightly coupled)\cite{SOA} systémy obsahují na sobì závislé komponenty, jejich¾ implementace je spojuje dohromady. V tìsnì vázaných systémech si nemù¾eme dovolit mìnit(implementace, verze, atd.) pouze jednu komponentu, ani¾ by to mìlo negativní následky na chod ostatních komponent nebo systému jako celku.

\subsubsection*{Otevøený software}
Otevøený software (open-source software)\cite{OSI} je software s otevøeným zdrojovým kódem. Otevøenost znamená mo¾nost zdrojový kód vyu¾ívat pøi splnìní urèitých podmínek.

\newpage

\section{Architektura orientovaná na slu¾by}
Architektura orientovaná na slu¾by(Services oriented architecture, SOA) \cite{SOA} \label{SOA} je sada principù a postupù pro návrh a vývoj softwaru. SOA se zamìøuje na pøesnì definované softwarové komponenty (èásti poèítaèových systému, datové struktury, apod.), které mohou být pou¾ity vícekrát, pro více úèelù a v kontextu SOA sem jim øíká slu¾by. Nyní si si uká¾eme hlavní principy a postupy, které se pou¾ívají pøi vytváøení slu¾eb v rámci SOA.

\subsubsection*{Zapouzdøení operace}
Pøi vytváøení systému obsahujících slu¾by, rozsah zapouzdøení mù¾e být men¹í i vìt¹í. Slu¾ba mù¾e zapouzdøit jednu operaci v rámci systému nebo operaci, která reprezentuje celý systém.

\subsubsection*{Vztah mezi slu¾bami}
Jednotlivé slu¾by mohou být vyu¾ívány jinými slu¾bami nebo programy. Aby mohly slu¾by a programy mezi sebou komunikovat, musí o sobì vìdìt. Toto povìdomí je realizováno pomocí popisu slu¾by. V popisu slu¾by je uveden název slu¾by a druh dat, které slu¾ba oèekává a vrací.

\subsubsection*{Komunikace mezi slu¾bami}
Slu¾by komunikují pomocí zpráv. Jakmile je zpráva odeslána, slu¾ba nad ní ztrácí kontrolu. Podle SOA by mìla být zpráva nezávislou komunikaèní jednotkou, a tak zastávat stejnou pozici pøi komunikaci jako slu¾ba. Jinými slovy to znamená, ¾e zpráva si sama urèí slu¾bu, ke které bude doruèena. Abychom toho dosáhli, je nutné vybavit zprávu patøiènou inteligencí.


\noindent Jedním z mo¾ných pøístupù SOA, kterým lze SOA implementovat, jsou webové slu¾by. Nutno poznamenat, ¾e ne v¹echny systémy implementované pomocí webových slu¾eb splòují koncept SOA a v systému vytvoøeném pomocí SOA konceptu nemusí být ka¾dá slu¾ba nutnì webová. Tedy SOA a webové slu¾by nejsou synonyma, ale velmi èasto spojované pojmy.

\subsubsection*{SOA pomocí webových slu¾eb}
Co jsou to webové slu¾by jsme si popsali ji¾ døíve. Nyní se podíváme na jejich strukturu a jak pomocí nich lze implementovat principy SOA.

Zapouzdøení operace do slu¾by je zde realizováno právì pomocí webové slu¾by. Popis slu¾by lze realizovat pomocí jazyka pro popis webových slu¾eb (WSDL, Web Service Definition Language). Komunikace je realizována pomocí SOAP protokolu. SOA pomocí webových slu¾eb obsahuje 3 role :

\begin{itemize}
\item {\bf Poskytovatel slu¾by - Service provider}\\
Je zodpovìdný za popis slu¾by a její spu¹tìní na serveru. Pak je slu¾ba dostupná ze sítì a je mo¾no zaregistrovat její popis v registrech, kde bude k nalezení pro ¾adatele o slu¾bu. Tuto roli lze pøipodobnit k serveru v architektuøe klient-server.
\item{\bf ®adatel o slu¾bu - Service requester }\\
Vyhledá po¾adovanou slu¾bu v jednom nebo více registrech. Po nalezení popisu dané slu¾by se ¾adatel spojí se slu¾bou u poskytovatele a mù¾e ji pou¾ívat. Tuto roli lze pøipodobnit ke klientovi v architektuøe klient-server.
\item{\bf Registr slu¾by - Service registry}\\
Registr vystavuje popisy slu¾eb dostupných od poskytovatelù pro ¾adatele, kteøí v tìchto registrech vyhledávají po¾adované slu¾by. Jakmile je jednou slu¾ba v registru nalezena, není ji¾ tato role potøebná.
\\\\

\end{itemize}
\begin{figure}[h]
\begin{center}
 \includegraphics[bb= 0mm 195mm 150mm 294mm]{pic/soa.pdf}
\caption{Model SOA pomocí  webových slu¾eb.}
\end{center}
\end{figure}
\noindent Tyto role mohou hrát jakékoliv programy nebo uzly v síti. Webové slu¾by také obsahuje tøi operace, které definují vztahy mezi jednotlivými rolemi:
\begin{itemize}
\item{\bf Zveøejnìní }\\
Je vztah operace mezi registrem slu¾eb a poskytovatelem, kdy poskytovatel zveøejní popis slu¾by v registru, a tak ho zpøístupní ¾adatelùm. Konkretní mechanizmus zveøejnìní závisí na implementaci registru. V urèitých pøípadech roli registru pøejímá sama sí», kdy je popis slu¾by zveøejnìn pøímo v pøístupné èásti souborového systému na serveru.
\item{\bf Nalezení }\\
®adatel definuje vlastnosti transakce a podle nich je vyhledána slu¾ba v registrech. Výsledkem hledání je seznam slu¾eb, které odpovídají kriteriím. Nejjednodu¹¹í vyhledávací dotaz je HTTP GET\footnote{ Hypertext transfer protokol - protokol pro pøená¹ení hypertextových HTML dokumentù \\ GET - jedna z metod HTTP pro získání webové stránky klientem ze serveru} bez parametrù, který v¾dy vrátí v¹echny slu¾by, které jsou k dispozici. Pak je na ¾adateli, aby vybral správnou slu¾bu. Pro komplexní registraci a vyhledání slu¾eb se pou¾ívá standardu pro univerzální popis, vyhledání a integraci(UDDI, Universal descrition, discovery and integration). 
\item{\bf Spojení }\\
Ustanovuje vztah klient-server mezi ¾adatelem o slu¾bu a poskytovatelem. Tento vztah mù¾e být dynamický, kdy mohou být za bìhu vybírány jiné implementace dané slu¾by daných kriterii. Také mù¾e být statický, kdy programátor pøímo implementuje zpùsob volání dané slu¾by.
\end{itemize}


\section{REST}
Architektonický styl REST byl navr¾en Roy Fieldingem v rámci jeho disertaèní práci v roce 2000. REST není architekturou ani technologii. REST je sada omezení, které musí dané øe¹ení obsahovat. REST byl vytvoøen pro prostøedí internetu a webu. REST je orientován na zdroje, kdy zdrojem jsou po¾adováná data nebo stav daného vzdáleného systému. Tento styl získávání dat je velmi podobný SQL dotazùm, kde také po¾adujeme urèitá data(deklarativní programování). V kontrastu s tímto je SOAP protokol, pomocí kterého jsou na vzdálené stranì vyvolávány procedury(procedurální programování).

Aèkoliv je mo¾né se doèíst o soupeøení a porovnávání mezi SOA a REST, tak hlavní smysl REST je být alternativou k procedurálnímu charakteru SOA architektury. 
\\\\
Nyní se podíváme na základní sadu charakteristik REST:
\begin{itemize}
\item {\bf Architektura klient/server}\\
Zde je klientem u¾ivatelské rozhraní a server je úlo¾i¹tì dat. Díky oddìlení u¾ivatelského rozhraní a úlo¾i¹tì dat má být dosa¾eno lep¹í pøenositelnosti u¾ivatelského rozhraní a lep¹í ¹kálovatelnosti serverové strany.
\item {\bf Bezstavovost}\\
Kontext nesmí být ulo¾en na stranì serveru a odeslaný po¾adavek musí obsahovat v¹e potøebné. Ve¹keré informace o aktuálním sezení jsou ulo¾eny na stranì klienta. Toto omezení má umo¾òovat lep¹í viditelnost, spolehlivost a ¹kálovatelnost. Lep¹í viditelnost je dosa¾eno, proto¾e monitorovací systémy mohou monitorovat pouze odesílané po¾adavky, kde jsou kompletní informace. Lep¹í spolehlivosti je dosa¾eno díky snadnìj¹í obnovì po chybách, proto¾e na serveru nejsou ulo¾eny kontextové informace. Díky neukládání kontextových informací na serveru je dosa¾eno i lep¹í ¹kálovatelnosti.
\item {\bf Mezi-pamì»}\\
Pro lep¹í výkonost dotazù by mìla být na stranì klienta mezipamì»(cache), která ukládá výsledky ji¾ provedených dotazù. Toto zlep¹ení výkonosti je vykoupeno men¹í spolehlivostí dat, která nemusí být v danou chvíli aktuální.
\item {\bf Vrstvy}\\
Systém podle REST by mìl být sestaven z více vrstev a ka¾dá vrstva komunikuje pouze se sousedními vrstvami. Napøíklad webový prohlí¾eè si vy¾ádá data od web serveru, ale ji¾ neví o databázi, kterou server vyu¾ívá k získání po¾adovaných dat.
\item {\bf Jednotné komunikaèní rozhraní}\\
Jednotlivé komponenty systému musí mít jednotné rozhraní. Co¾ mù¾e mít za následek men¹í výkon systému, proto¾e rozhraní nebude vytvoøeno podle vlastností aplikace. Pro vytvoøení jednotného rozhraní jsou vytvoøeny omezení, která musí daný systém splòovat. Mezi nì patøí identifikace zdrojù, manipulace se zdrojem skrze jeho reprezentaci, zprávy mezi komponentami systému musejí být sebe popisující,  hypermédia jsou prostøedkem ke stavu aplikace. 
\item {\bf Kód na vy¾ádání}\\
Nepovinnou funkcionalitou je tzv. kód na vy¾ádání. Tento pojem souvisí s roz¹íøeními, které jsou zasílána klientské aplikaci na vy¾ádání. Jedná se o dodateèný kód (Java applet, Javascript), který se spou¹tí na stranì klienta. Kód na vy¾ádání je nepovinnou charakteristikou, proto¾e vykonávání takovéhoto kódu mù¾e být na klientské stranì zakázáno.
\end{itemize}
Tyto vlastnosti nemusí být na první pohled úplnì srozumitelné, proto budou dále popsány na konkrétní technologii viz sekce REST webové slu¾by
\section{Webové slu¾by}
Webová slu¾ba je softwarový systém vytvoøen k podpoøe interakce mezi uzly sítì\cite{JAX-WS}. Slou¾í ke komunikaci a pøenosu dat v decentralizovaných, distribuovaných systémech. Webové slu¾by byly vytvoøeny jako dal¹í alternativa k systémùm jako jsou napø. CORBA nebo DCOM. Jejich základní úèel spoèívá v propojení heterogenních systémù. Pomocí webových slu¾eb je tedy mo¾né propojit systémy rùzných architektur, kde jsou aplikace napsány rùznými jazyky. Jejich rozhraní je popsané strojovì zpracovatelným formátem. 

Pøedchùdcem webových slu¾eb je technologie volání vzdálených procedur(RPC, Remote Procedure Call), proto je mo¾né pozorovat rùzné podobnosti s technologii webových slu¾eb a RPC. Dal¹ím vývojovým stupnìm je technologie XML-RPC, kterou se vyu¾ívala k implementaci webových slu¾eb, ale jejich funkcionalita postupnì pøestávala dostaèovat vzrùstajícím potøebám. Posledními technologiemi, které se dnes pou¾ívají pro implementaci webových slu¾eb jsou SOAP a REST. Ka¾dá z tìchto technologii má své pro a proti. O problematice SOAP versus REST bylo napsáno velké mno¾ství èlánkù a ve vìt¹inì knih zamìøených na problematiku webových slu¾eb je minimálnì zmínka o tom, zda pou¾ít REST nebo SOAP. Proto¾e tato práce se hlavnì zamìøuje na testování webových slu¾eb bez rozdílu jejich technologie, budou zde popsány oba dva pøístupy.

\subsubsection*{SOAP webové slu¾by}
Základem pro SOAP webové slu¾eby je SOAP protokol. SOAP je navr¾en jako bezstavový protokol. Pou¾ívá jednocestný zpùsob odesílání zpráv (one-way MEP, Message Exchange Pattern), ale je mo¾no jej pøizpùsobit k dal¹ím zpùsobùm odesílání zpráv jako napø. ¾ádost/odpovìï, ¾ádost/více odpovìdí. SOAP protokol je mo¾no pou¾ívat na libovolné platformì s libovolným programovacím jazykem. 

Hlavními specifikacemi pro SOAP webové slu¾by je soubor specifikací s prefixem WS-. Tento soubor specifikací zahrnuje dal¹í funkcionality, které byly vyvinuty nad SOAP protokolem. Patøí mezi nì napø. transakèní zpracování, bezpeènost, spolehlivost atd. Dal¹ími dùle¾itými  technologiemi jsou jazyk pro popis definice webové slu¾by (WSDL, Web Service Definition Language) a registr pro popis a lokalizaci webových slu¾eb (UDDI, Universal Description and Discovery Integration). Nejdøíve si popí¹eme specifikaci SOAP a po té budou pøedstaveny technologie WSDL a UDDI.
\\\\ 
Specifikace SOAP protokolu je rozdìlena na 4 èásti:

\begin{itemize}
 \item {\bf Model zpracování }\\ 
 Model zpracování pøedstavuje jednotlivé èásti distribuovaného modelu, který je v SOAP pou¾it. Jsou zde popsány druhy uzlù, které vyu¾ívá distribuovaný model, pou¾ité zpùsoby výmìny zpráv mezi uzly a dal¹í nezbytnosti, které jsou potøeba pro zpracování SOAP zpráv.
 \item {\bf Model roz¹íøení }\\ 
SOAP protokol byl vytvoøen jako velmi dobøe roz¹íøitelný. Tento model popisuje zpùsob jak mají být zpracovány nové funkcionality a roz¹íøení SOAP protokolu.
\item {\bf Spojení s protokolem pro pøenos zpráv }\\ 
SOAP protokol není závislý na pøenosovém protokolu a mù¾e tak být spjat s rùznými protokoly. Jako nejvhodnìj¹í kandidáti byly vybrány protokoly HTTP a protokol pro elektronickou po¹tu (SMTP, Simple Mail Transport Protocol). Pro mnohem roz¹íøenìj¹í pou¾ití se dnes hlavnì pou¾ívá protokol HTTP. Pou¾ívá se také pro jeho snadný prùchod pøes sí»ová zabezpeèení (firewall apod.). 
\item {\bf Vytváøení zpráv }\\ 
Zprávy jsou v SOAP protokolu definovány jako XML dokument. Tento formát má své výhody i nevýhody. XML je výhodné, proto¾e odpadají problémy s pøenositelnosti mezi systémy, proto¾e se jedná o textový dokument. Právì zpracování XML dokumentu pøiná¹í problémy s výkoností, proto¾e zpracování textových dokumentù pøiná¹í svá úskalí.
\end{itemize}


\subsubsection*{SOAP zpráva}
Jeliko¾ slu¾by mezi sebou komunikují pomocí zpráv, je nutné, aby zprávy mìly jednotný formát a slu¾by pou¾ívaly stejný transportní protokol. Formát zprávy musí být flexibilní a roz¹íøitelný. Z obrázku \ref{fig:SOAPMess} je patrné, ¾e SOAP zpráva se skládá ze 4 èástí:
\begin{itemize}
 \item {\bf Obálka }\\ 
 Jak ji¾ název èásti napovídá, obálka se dá charakterizovat jako kontejner, který volitelnì obsahuje hlavièku a povinnì musí obsahovat tìlo zprávy. 
 \item {\bf Hlavièka}\\ 
 K dosa¾ení zmínìné inteligence zprávy se vyu¾ívá obsahu hlavièky SOAP zprávy. Obsah je slo¾en z jednotlivých blokù, které mohou nést rùzné druhy informace související s doruèováním zprávy, zpracování tìla zpráv, bezpeèností apod. Sémantika jednotlivých blokù není v SOAP specifikována. Ka¾dý blok mù¾e mít rozdílný význam, a tedy i specifikaci. 
 \item {\bf Tìlo}\\ 
  Tìlo zprávy obsahuje odesílaná data, které jsou ve formátu XML. V pøípadì potøeby mù¾e zpráva obsahovat informaci o chybì na stranì pøíjemce. Zpráva s informací o chybì je pak doruèena zpìt odesilateli. 
\item {\bf Pøílohy}\\
SOAP pøíloha umo¾òuje posílat zejména data, která nelze popsat XML dokumentem. Obecnì se jedná o binární data (multimédia, dokumenty, apod.).
\end{itemize}

\begin{figure}[h]
\begin{center}
 \includegraphics[scale=1, bb= 0.0mm 230.0mm 130mm 294mmm]{pic/SOAPZprava.pdf}
\caption{Obecný formát SOAP zprávy.}
\label{fig:SOAPMess}
\end{center}
\end{figure}

\subsubsection*{SOAP obslu¾né rutiny}
SOAP obslu¾né rutiny (SOAP handlers)\cite{JAX-WS} mohou zpracovávat zprávu po pøíchodu a pøed odchodem zprávy. Jeliko¾ se v hlavièce zprávy nacházejí rùzné informace(zpùsob zpracování tìla zprávy, bezpeènostní kontext, transakèní kontext, apod.), které je potøeba zpracovat døíve ne¾ je slu¾ba spu¹tìna, zpráva je nejdøíve zachycena tìmito rutinami a ty vykonají pøíslu¹né operace pøed spu¹tìním slu¾by. SOAP obslu¾né rutiny se mohou nacházet na klientské stranì i na koncové stranì slu¾eb.

Na klientské stranì zpravidla pøidávají informace (bloky hlavièky) do zprávy. Na koncové stranì slu¾eb ètou, pøípadnì odstraòují informace ze zprávy a vykonávají patøièné operace. Obslu¾né rutiny nemusejí být pøítomny vùbec nebo jich mu¾e být i více najednou.

\begin{figure}[h]
\begin{center}
 \includegraphics[scale=0.8, bb= 0.0mm 220.0mm 210mm 294mmm]{pic/SOAPhandler.pdf}
\caption{Pou¾ití SOAP obslu¾né rutiny.}
\label{fig:HANDLER}
\end{center}
\end{figure}

\subsubsection*{Jazyk pro popis slu¾eb}
Popis slu¾by slou¾í jako strojovì zpracovatelný manuál pro zacházení s webovou slu¾bou(WSDL, Web Service Definition Language). WSDL je popisuje webovou slu¾bu pomocí XML dokumentu. WSDL patøí mezi jazyky definující rozhraní (IDL, Interface Definition Language). IDL jazyky slou¾í k pøesnému popsání rozhraní dané softwarové komponenty tak, aby bylo mo¾né jej strojovì zpracovat. Hlavní vlastností IDL jazykù je nezávislost na programovacím jazyku. V praxi to znamená, ¾e pomocí IDL jazyka lze vygenerovat rozhraní pro rùzné programovací jazyky. V pøípadì WSDL se generují rozhraní pro webové slu¾by. WSDL v¹ak neslou¾í pouze ke generování rozhraní, ale také k vyhledávání a rozpoznání webové slu¾by. V pøípadì vyhledání a rozpoznání je mo¾né WSDL dokument analyzovat a rozhodnout, zda-li daná webová slu¾ba odpovídá po¾adavkùm.

WSDL dokument je rozdìlen na abstraktní èást a konkrétní èást. V abstraktní èásti jsou popsány souèásti rozhraní, které nejsou závislé na konkrétních technologiích tzn, datové typy, typy pøená¹ených zpráv. Definice z abstraktní èásti jsou pak pou¾ity pro pøesný popis spojení se slu¾bou a popis slu¾by samotné.

XML struktura WSDL dokumentu zaèíná koøenovým elementem {\it description}, která obsahuje abstraktní souèásti  {\it types},  {\it  interfaces}. V konkretní èásti se pak definice z  {\it types} a {\it  interfaces} pou¾ijí pro souèásti {\it binding}a  {\it  service}. Toto je popis WSDL podle verze 2.0. Pøede¹lá verze obsahuje odli¹nosti v pojmenování a struktuøe jednotlivých elementù. WSDL verze 2.0 je také vhodná pro popis REST webových slu¾eb.
\\\\
Popis jednotlivých souèástí WSDL dokumentu:
\begin{itemize}
\item{\bf Typy}\\
 V souèásti {\it types} jsou definovány pou¾ité datové typy. Je mo¾né pou¾ít rùzné druhy popisu datových typù, ale je doporuèeno a hlavnì se pou¾ívá XML schéma pro definici datových typu (XSD, XML Schema Definition Language). Také je zde popsán formát pøená¹ených zpráv. Je mo¾né tyto definice naèíst z externího zdroje pomocí elementu  {\it import}.
\item{\bf Rozhraní }\\
V souèásti  {\it interfaces} jsou popsány operace, které budou pou¾ity slu¾bou. Zde se jednotlivým operacím pøiøadí vstupní a výstupní zprávy, které jsou definovány v èásti  {\it types}.

\item{\bf Spojení }\\
Souèást  {\it bindings} slou¾í k definici spojení s danou technologii. Obvykle to jsou SOAP a HTTP protokoly. Dále je pak definováno jaký styl SOAP zprávy má být pou¾it. V tomto pøípadì jsou dvì mo¾nosti,  {\it document} nebo  {\it rpc} styl.  Je doporuèeno pou¾ívat  {\it document} styl. Styl  {\it document} nemá strukturální omezení obsahu SOAP zprávy, èili mù¾e to být libovolný XML dokument. Naproti tomu  {\it rpc} styl musí odpovídat pøedepsanému RPC schématu zprávy. Oba styly musí být XML dokumenty, proto mohou být naprosto stejné pouze z vý¹e popsanými omezeními.

\item{\bf Slu¾ba }\\
Souèást  {\it service} je pou¾ita pro konkrétní definici dané slu¾by pomocí vý¹e zmínìných souèástí. Je zde pou¾ito definované spojení a adresa, na které je slu¾ba dostupná.
\end{itemize}
WSDL má samozøejmì mnoho dal¹ích mo¾ností, ale vý¹e uvedené jsou postaèující k vytvoøení plnohodnotné slu¾by. Více informací o WSDL je mo¾no získat v pøíslu¹ných specifikacích.


\subsubsection*{Registr pro popis a nalezení webových slu¾eb - UDDI}
UDDI slou¾í pro ukládání informací o webových slu¾bách. Informace jsou ulo¾eny jako XML dokumenty vìt¹inou v SQL databázích. UDDI se hlavnì pou¾ívá pro vyhledávání webových slu¾eb na základì jejich popisu, aby se potom mohly pou¾ít. Tento centralizovaný zpùsob má za cíl zpøehlednit a usnadnit vyhledání a následné pou¾ití webové slu¾by.

Svého èasu se specifikace UDDI tì¹ila velké popularity a byla hojnì vyu¾ívána a rozvíjena. Vývoj specifikace se v¹ak zastavil pøed nìkolika lety na verzi 3.0. V této dobì velké firmy nabízel veøejné UDDI registry pro zaøazení veøejných webových slu¾eb. Av¹ak z této cesty bylo upu¹tìno a dnes ji¾ veøejných UDDI registrù je velmi málo. UDDI se v¹ak stále pou¾ívá, ale své místo získala tato technologie v privátních sítích a øe¹eních. Pou¾ívá se pøi pou¾ití sbìrnic slu¾eb (ESB, Enterprise Service Bus) a podobných integraèních øe¹eních, kde se automatizují procesy. Zde právì sbìrnice slu¾eb mù¾e dynamicky vyhledat v UDDI registrech  slu¾bu podle po¾adovaných kritérií, a tak vybrat vhodnou slu¾bu k pou¾ití.
\\\\
UDDI registr se skládá ze 3 èástí:
\begin{itemize}
\item {\bf Bílé stránky}\\
V bílých stránkách jsou ulo¾eny informace o poskytovateli slu¾by. Pomocí bílých stránek lze najít slu¾bu napø. podle jména nebo názvu poskytovatele.	
\item {\bf ®luté stránky}\\
Ve ¾lutých stránkách jsou ulo¾eny informace o kategorii poskytované slu¾by. Jeliko¾ poskytovatel mù¾e poskytovat více kategorií slu¾eb, mù¾e se více ¾lutých stránek vztahovat k jedné bílé.
\item {\bf Zelené stránky}\\
V zelených stránkách jsou ulo¾eny technické informace o slu¾bách. Typické informace v zelených stránkách jsou spojení s webovou slu¾bou, adresa slu¾by nebo pøedávané parametry. Jeliko¾ slu¾ba mù¾e definovat více druhù spojení, mohou zelené stránky obsahovat více záznamù k jedné slu¾bì.
\end{itemize}
Jednou s velmi populárních implementací UDDI specifikace je jUDDI, která je pod správou Apache Foundation.

\subsubsection*{REST webové slu¾by}
 Druhou koncepcí webových slu¾eb, se kterou se mù¾eme setkat a stává se velmi populární, jsou webové slu¾by respektující REST architektonický styl. Proto¾e REST stylu vyhovují vlastnosti HTTP protokolu a HTTP protokol je vyu¾íván ke konstrukci webových slu¾eb, byly vlastnosti REST pou¾ity pro konstrukci webových slu¾eb. Nyní si bude popsáno propojení REST vlastností a omezení, která byla pøedstavena døíve v textu, s protokolem HTTP a následnì spojení s technologii webových slu¾eb. 
\\\\\\
HTTP protokol splòuje REST vlastnosti a omezení díky následujícím vlastnostem:
\begin{itemize}
\item {\bf Architektura klient/server}\\
Samotný protokol HTTP je konstruován stylem dotaz/odpovìï klienta a serveru. Toto spojení je dáno ji¾ samotnou konstrukcí protokolu.
\item {\bf Bezstavovost}\\
Tato vlastnost u¾ musí být implementována specificky na dané architektuøe, která je postavena nad HTTP protokolem. Pokud je kontext ukládán na serveru, tak se nejedná o aplikaci zalo¾enou èistì na principech REST.  
\item {\bf Mezi-pamì»}\\
Mezi-pamì» vyu¾ívá i HTTP protokol pro ukládání odpovìdí na klientské stranì.
\item {\bf Vrstvy}\\
Vícevrstvé rozdìlení je vyu¾ito v rámci HTTP protokolu. Kdy¾ si webový prohlí¾eè vy¾ádá od serveru data, není si vìdom napø. databáze, se kterou server dále komunikuje. 
\item {\bf Identifikace zdrojù}\\
Zdroje v HTTP mohou být identifikovány pomocí URI.
\item {\bf Manipulace se zdroji pomocí jejich reprezentace }\\
Data, která jsou odesílání pomocí HTTP mohou být pøená¹ená v jiné reprezentaci ne¾ jak jsou ulo¾ena, èili mohou být pøená¹eny jednotným zpùsobem(JSON, XML apod.).
\item {\bf Sebe popisující zprávy }\\
Tuto vlastnost HTTP protokol implicitnì nesplòuje, je tøeba tuto vlastnost doplnit ve vrstvì, která je implementována nad HTTP protokolem.
\item {\bf Hypermédia jako prostøedek stavu aplikace}\\
Toto omezení se vztahuje k vyu¾ití HTML dokumentù. Klient komunikuje se serverem pomocí hypermédii, které jsou dynamicky zprostøedkovány serverem. Klient nemusí nutnì být schopen interpretovat ka¾dý druh média, který je mu serverem nabídnut. Správnou interpretaci urèitých druhù médii je mo¾no dosáhnout kódem na vy¾ádání, který dodateènì umo¾ní správnou interpretaci.
\end{itemize}
\newpage
\noindent Nyní jsme si ukázali, ¾e HTTP protokol je mo¾no pou¾ít pro aplikace zalo¾ených na REST principech. 

 Základní princip webových slu¾eb je zprostøedkování aplikaènì nezávislého komunikaèního rozhraní. Pro vytvoøení jednotného a aplikaènì nezávislého komunikaèního rozhraní je mo¾né pou¾ít HTTP protokol, a zprostøedkovat tak aplikace, které jsou vytvoøeny rùznými technologiemi. HTTP disponuje sadou pøíkazù, které je mo¾no vyu¾ít právì ke konstrukci webových slu¾eb respektující omezení REST. Základní pøíkazy, které se nejèastìji pou¾ívají jsou GET, PUT, POST, DELETE. Tato skupina operací se obecnì oznaèuje akronymem CRUD (Create,Read,Update,Delete ) a je mo¾né se s ní setkat v deklarativních zpùsobech programování.

\begin{itemize}
\item {\bf GET}\\
získání stavu zdroje
\item {\bf PUT}\\
vytvoøení nového zdroje
\item {\bf POST}\\
upravení zdroje
\item {\bf DELETE }\\
odstranìní zdroje
\end{itemize}
 Pro REST charakter webových slu¾eb jsou tyto operace naprosto dostaèující. Z akronymu REST - Representative State Transfer (pøenos reprezentativního stavu) - je patrné, ¾e se bude pøená¹et pouze stav. V pøípadì REST se pøená¹í stav po¾adovaného zdroje, pøesnìji jeho reprezentace. Aèkoliv se to na první pohled mù¾e zdát velmi limitující, ve skuteènosti mù¾e v pozadí tìchto pøíkazù pracovat velmi komplexní logika. 	 




%co je Java EE, jednotlive vrstvy, hlavni technologie v EE


\section{Testování software}
Testování je souèástí ¾ivotního cyklu software. Testování je obecnì neodmyslitelnou souèástí jakéhokoliv produktu, nejenom z oblasti IT. Pøeci jen, pokud chceme zaruèit urèité vlastnosti produktu, je tøeba tyto vlastnosti vyzkou¹et - otestovat. Jeliko¾ software vytváøejí lidé a ti nejsou neomylní, je tøeba provìøit mo¾né pochybení pøi vývoji software.

V ideálním pøípadì bychom pøi testování vyzkou¹eli v¹echny mo¾né zpùsoby pou¾ití, vstupy, prostøedí, abychom dùkladnì otestovali vytvoøený program. V reálném svìtì tento zpùsob není mo¾ný, proto¾e vyzkou¹et v¹echny mo¾né vstupy i jednoduchého programu je prakticky neøe¹itelný problém. K tomuto tvrzení staèí poukázat program, který seète dvì èísla z mno¾iny reálných èísel. Ne v¾dy je kompletní testování neøe¹itelný problém, minimálnì je v¹ak kompletní testování velmi nepraktické a hlavnì neekonomické.

Proto je tøeba si uvìdomit, ¾e nemù¾eme testovat v¹echny mo¾né vstupy. Aèkoliv nemù¾eme zaruèit absolutní bezchybovost software, mù¾eme se pokusit sní¾it poèet  chyb v software na minimum. Hlavním cílem testování je tedy odhalit co nejvìt¹í poèet chyb. Co¾ je paradox testování, proto¾e úspì¹né testování znamená odhalení chyby. Aby bylo testování úspì¹né a odhalilo co nejvíce chyb, je nutné k nìmu pøistupovat komplexním zpùsobem a poèínat si obdobnì jako pøi vývoji samotného software.  Podívejme se tedy na základní techniky testování software.

\subsection*{Základní techniky testování software}
K popsání v¹ech dùle¾itých technik testování software by bylo potøeba celá kniha, zde budou popsány pouze ty základní metody nebo ty metody, které souvisejí s touto prací.
\subsubsection*{Statické a Dynamické testování}
Pokud pøi testování není tøeba spustit samotný program, jedná se o statické testování. To mù¾e být napøíklad procházení zdrojových kódù nebo dokumentace. Dùle¾ité je odhalení chyb ji¾ ve specifikaci po¾adavkù, proto¾e vytvoøení programu podle chybné specifikace patøí mezi ty opravdu nákladné chyby.

Dynamické testování vy¾aduje spu¹tìní urèité verze programu. Testování probíhá vkládáním mno¾iny vstupù a hodnocení dosa¾ených výstupù. Celá tato práce je zamìøena právì na dynamické testování, kam lze zaøadit i ní¾e popsané techniky.
\subsubsection*{Blackbox a Whitebox testování}
Black box(èerná krabièka) je technika testování, pøi které  neznáme vnitøní strukturu programu. Blackbox testování se navrhuje hlavnì podle specifikace a je tøeba vhodnì navrhnout vstupní data tak, abychom dosáhli vyvá¾enosti mezi efektivitou a úplností testování. Pou¾ívají se dal¹í podpùrné techniky jako rozdìlení dat podle intervalù, rozdìlení dat podle ekvivalenèních tøíd apod.

White box(bílá krabièka) nebo také transparent box (prùhledná krabièka) je naproti black box testování zamìøena na vnitøní strukturu programu. Zamìøuje se hlavnì na provedení ka¾dého pøíkazu, který je v programu napsán. V tomto smìru je lehce podobné black box testování, proto¾e otestování ka¾dého pøíkazu v tìle programu mù¾e být prakticky nemo¾né, minimálnì neefektivní. Dal¹ím aspektem testování struktury programu je také skuteènost, ¾e aèkoliv otestujeme ka¾dý mo¾ný pøíkaz v programu, pøesto v nìm mù¾e být chyba. Pøíkladem mù¾e být nedodr¾ení specifikace nebo chybná specifikace. 

\subsubsection*{Regresní testování}
Regresní testování  se obvykle provádí po implementaci nové funkcionality. Má za úkol provést testy star¹ích èástí programu, které ji¾ byly testovány. Tento druh testování je dùle¾itý, proto¾e zavedením nové funkcionality je mo¾né zanést chyby i do star¹ích èástí programu.
\subsubsection*{Výkonnostní testování}
Výkonnostní testování se vìnuje výkonu programu. Testovat výkon aplikace lze více zpùsoby. Program mù¾eme podrobit stresovému testování, kdy jsou softwaru ztí¾eny podmínky pro fungování (odebrání pamìti, èas procesoru apod.) nebo je vystaven krátkodobému pøetí¾ení mno¾stvím vstupních dat. Pak je mo¾né testovat dlouhodobou zátì¾, kdy je program pøetí¾en mno¾stvím vstupních dat po del¹í dobu. Je¹tì je mo¾né opakovat jednu a tu samou operaci neustále do kola, co¾ má za cíl testovat zacházení s pamìtí.
\subsubsection*{Bezpeènostní testování}
Dùle¾itou souèástí testování je i test bezpeènostních opatøení. Pøi bezpeènostních testech se testuje zaji¹tìní základních po¾adavkù na bezpeènost, co¾ jsou Dostupnost, Dùvìryhodnost, Integrita.  Pro bezpeènou aplikaci je nutné zabezpeèit v¹echny tyto tøi vlastnosti souèasnì, jinak nelze pova¾ovat aplikaci za bezpeènou. Proto¾e bez dostupnosti u¾ivatel nebude mít pøístup k datùm, aèkoliv jsou dùvìryhodná a bez po¹kození. Bez integrity jsou data dostupná a nebyly zobrazeny jiným u¾ivatelùm, ne¾ pro které byly urèeny, ale mohou být po¹kozená. Nakonec pokud data budou nezmìnìná i dostupná, mohou být vystavena nepatøièným u¾ivatelùm. 



\subsection*{Základní úrovnì testování software}
Vý¹e zmínìné techniky testování se mohou provádìt v rùzných úrovních vývoje softwaru. Podle úrovnì vývoje jsou pojmenovány i dal¹í techniky testování 

\begin{itemize}
\item{\bf Testování modulù} \\
Také známé jako Unit testing neboli testování jednotek. Zde se testují vìt¹í celky kódu programu. Pøi objektovì orientovaném programování se èasto jedná o testování jednotlivých tøíd. Obecnì se v¹ak testují vhodnì oddìlené úseky kódu, které jsou testovatelné oddìlenì. Pøi testování modulù je èasto nutné simulovat interakci s ostatními moduly. Existují dva základní pøístupy k integraènímu testování. 

\item{\bf  Integraèní testování}\\
Pøi integraèním testování se provádìjí testy spojení jednotlivých modulù. Testuje se rozhraní a interakce mezi jednotlivými moduly. Obecnì je pøedpokládáno, ¾e èím má integrace vìt¹í rozsah, tím je obtí¾nìj¹í odhalit rozhraní, ve kterém vznikla chyba. Z tohoto dùvodu vzniklo nìkolik pøístupù k integraènímu testování. 

První pøístup spoèívá v kompletní integraci v¹ech modulù, co¾ je jeden pól extrému. Pøi tomto pøístupu se nejdøíve sestaví v¹echny moduly a po té je zahájeno integraèní testování. Na první pohled se mù¾e takovýto pøístup jevit velmi výhodnì, pokud naivnì pøedpokládáme, ¾e se bìhem testování neobjeví ¾ádná chyba. Tento pøístup má hlavní nevýhodu právì ve vý¹e zmínìném pøedpokladu. Pokud je nalezena chyba je obtí¾né a èasovì nároènì ji odstranit. 

Protipólem je testovat spojení ka¾dého modulu zvlá¹». Tento pøístup je výhodný pro nacházení a odstraòování vzniklých chyb, ale zároveò je velmi èasovì nároèný, tedy neefektivní. Proto se pou¾ívají techniky, které jsou nìkde mezi tìmito dvìma extrémy.

\item{\bf Systémové testování}\\
Systémové testování se zamìøuje na program nebo produkt jako celek. Mù¾e obsahovat testy zalo¾ené na specifikaci, testování pøípadu u¾ití programu apod. Systémové testování je poslední úroveò vývojového testování, kdy se ovìøuje zda program odpovídá specifikaci. Pøi systémovém testování by se mìly testovat funkèní po¾adavky i ty, které pøímo s funkèností nesouvisejí. Mezi nefunkcionální testování patøí napøíklad výkonnostní testy, testy spolehlivosti, bezpeènostní testy apod. 
\item{\bf Akceptaèní testování}\\
Akceptaèní testování je zále¾itostí u¾ivatele, zákazníka nebo je provádìno prostøedí témìø identickém produkènímu, ne-li pøímo v produkèním prostøedí\footnote{Produkèní prostøední nebo produkce oznaèuje prostøedí, ve kterém bude program, produkt nasazen a pou¾íván}. Testuje je se hlavnì splnìní specifikovaných po¾adavkù na software a jestli dodaný software je schopen pracovat v daném prostøedí a je vhodný pro daný úèel. 

S akceptaèním testováním jsou spojené i pojmy Alfa a Beta testování. Alfa testování se provádí ve vývojovém prostøedí programátory a patøí do nìj vý¹e zmínìné úrovnì a techniky. Beta testování se provádí pøed oficiálním vydání softwaru, kdy si daný software nainstalují u¾ivatelé v reálném prostøedí a provádìjí testy. Beta testování se provádí v pøípadì, ¾e je software urèen pro ¹irokou ¹kálu u¾ivatelù.   
\end{itemize}

\section{Platforma jazyka Java }
\label{java}
\subsubsection*{Java Enterprise edition}
Platforma Java 	poskytuje více druhù pou¾ití jazyka Java. Tato práce se zamìøuje na pou¾ití podniková edice Java platformy (Java EE, Java Enterprise edition)\cite{Java}. Existuje více èástí platformy Java, které jsou urèené pro rùzné pou¾ití. Java EE se pou¾ívá pro vytváøení rozsáhlých podnikových aplikací a informaèních systémù. Základem Java EE je standardní edice jazyka Java (Java SE, Java Standard Edition), která se postupným vývojem roz¹íøila a musela být rozdìlena na více edici vèetnì Java EE.

Aplikaèní logika Java EE je rozdìlena do komponent podle funkce. Jednotlivé komponenty jsou umístìny v nìkolika aplikaèních vrstvách:
\begin{itemize}
\item {\bf Klientská vrstva} - umístìna na stranì klienta\\
Tato vrstva typicky obsahuje u¾ivatelské rozhraní pro ovládání cele aplikace.
\item {\bf Webová vrstva} - umístìna na stranì Java EE serveru\\
Na této vrstvì jsou umístìny komponenty vytváøející obsah, který je následnì odeslán klientovi.
\item {\bf Business vrstva} - umístìna na stranì Java EE serveru\\
Zde je implementována aplikaèní logika, která pøijímá vstupy od klienta, zpracovává je, pøípadnì je ulo¾í do databáze.
\item {\bf Vrstva Podnikový informaèní systém(EIS)}\\
Komponentami této vrstvy jsou databáze a podobné aplikace pro ukládání dat.
\end{itemize}

\begin{figure}[h]
\begin{center}
 \includegraphics[scale=0.5]{pic/JAVAEESTACK.png}
\caption{Jednotlivé vrstvy Java EE architektury. \cite{Java} }
\label{fig:JAVAEE}
\end{center}
\end{figure}

\noindent Takto navr¾ené vícevrstvé aplikace je obtí¾né vytváøet, proto jsou komponenty vytváøeny tak, aby byly znovupou¾itelné. Pak je mnohem snadnìj¹í vytváøet slo¾ité aplikace. Ka¾dá komponenta musí být umístìna do kontejneru. Kontejner je rozhraní mezi komponentou a funkcemi ni¾¹í úrovnì, které jsou implementaènì závislé. Obecným kontejnerem je aplikaèní server, který zprostøedkovává slu¾by ostatním kontejnerùm a komponentám. Na aplikaèní server je mo¾né nasadit tzv. Enterprise JavaBeans (EJB)\footnote{EJB je  kontejner, vhodný pro implementaci aplikaèní logiky} a Web kontejner, do kterých lze umis»ovat patøièné komponenty. Dále existují klientský a applet kontejner, které jsou vhodné pro klientskou èást aplikace.

Pro vytváøení vícevrstvých aplikací Java EE obsahuje velké mno¾ství technologii a jejich specifikací, které je mo¾no rozdìlit do nìkolika kategorii:

\begin{itemize}
 \item {\bf Webové slu¾by}\\
	Zahrnuje specifikace technologii pro implementaci SOA pomocí webových slu¾eb. Napøíklad obsahuje specifikaci pro tvorbu webových slu¾eb zalo¾ených na XML (JAX-WS). JAX-WS je mo¾né vyu¾ít k tvorbì klientských aplikací a webových slu¾eb zalo¾ených na XML .  Mezi klienty a slu¾bami lze vytvoøit komunikaci zalo¾enou na zprávách nebo vzdálené volání procedur (RPC, Remote Procedure Call).
 \item {\bf Webové aplikace}\\
	Zde jsou uvedeny technologie pro tvorbu webových aplikací a podporu pro implementaci modelu model-view-controller(MVC). Významnou specifikací z této kategorie je JavaServer Pages (JSP), která se pou¾ívá k tvorbì dynamických webových stránek. Pou¾ívá se spoleènì se specifikací Java Servlet. Servlet je komponenta bì¾ící v rámci webového serveru. Pøijímá dotazy od klientù a generuje odpovìdi ve formì HTML dokumentu. JSP slou¾í k oddìlení u¾ivatelského rozhraní od aplikaèní logiky. Pomocí JSP se vytváøí HTML dokument s vnoøenými úseky Java kódu. 
 \item {\bf Podnikové aplikace}\\
	 V této kategorii jsou uvedeny technologie pro implementaci business logiky a rùzných podpùrných technologii. Pro vytváøení podnikových aplikací je vhodná specifikace Enterprise JavaBeans (EJB). Pomocí EJB jsou vytváøeny komponenty, které oddìlují aplikaèní logiku od prezentaèní vrstvy. Hlavní vlastnosti EJB komponent by mìla být znovupou¾itelnost. EJB komponenty je mo¾no vyu¾ít k zaji¹tìní bezpeènosti, transakèního zpracování nebo také k testování. Pro komunikaci mezi jednotlivými komponentami je vhodná specifikace Java Messaging Service (JMS). 
 \item {\bf Správa a zabezpeèení }\\
	 Obsahuje technologie pro monitorování a zabezpeèení vytvoøených aplikací. Pro tvorbu monitorovacích aplikací se pou¾ívá specifikace Java Management Extensions (JMX). JMX umo¾òuje vytváøet aplikace s webovým rozhraním, které slou¾í k monitorování a správì rùzných zaøízení, aplikací nebo sítí se slu¾bami. Aplikace v rámci JMX jsou vytváøeny pomocí Managed Bean (MBean) komponent, které zaji¹»ují spojení se sledovaným objektem.
\end{itemize}

	


\chapter{Testování webových slu¾eb}
 Tato èást se tedy vìnovat aspektùm testování webových slu¾eb  se zamìøením na testování robustnosti a odolnosti. Na testování webových slu¾eb se mù¾eme dívat jako na testování jakéhokoliv jiného software, av¹ak musíme vzít v úvahu nìkolik zásadních skuteèností. Webové slu¾by a» u¾ s pou¾itím SOAP protokolu nebo REST principù jedná se o vzdálené aplikace, které se mohou skládat z nìkolika vrstev. Dále pak webové slu¾by mohou být kompletnì bez grafického u¾ivatelského rozhraní, co¾ znesnadòuje manuální testování, na druhou stranu je zde vìt¹í prostor pro automatizaci testování.


\section{Rùzné pohledy na webové slu¾by}
Pøi testování webových slu¾eb se mù¾eme setkat s rùznými aspekty, které vyplývají z jejich pou¾ití. Webové slu¾by jsou velice èasto implementovány s typem komunikace dotaz/odpovìï nebo alespoò odvozeným zpùsobem. Tedy lze rozdìlit úèastníky v komunikaci na klienty a server, kdy klient ode¹le dotaz a server (slu¾ba) ode¹le odpovìï. Zde je nutné si uvìdomit, ¾e pokud testujeme klient/server aplikace, je nutné otestovat tyto èásti oddìlenì. Musíme si být jistí, ¾e server dává správnì odpovìdi a klient odesílá správnì dotazy. Proto¾e pokud jedna èást (napø. klient) odesílá chybná data, druhá èást pak nemusí odesílat data adekvátním zpùsobem.

\subsection*{Server}
Pro webové slu¾by je toto základní pohled, proto¾e slu¾ba je umístìna na vzdáleném stroji a plní tak roli serveru v architektuøe klient/server. Z tohoto pohledu se testují reakce webové slu¾by na zaslané dotazy a analyzují se pøijaté odpovìdi. Pro tento typ testování je nutno vytvoøit klientskou èást aplikace. Klientskou èást aplikace pro testování je mo¾no vytvoøit automatizovanì. Existují nástroje pro generování klientských aplikací jak pro SOAP webové slu¾by, tak i pro webové slu¾by zalo¾ené na REST principech

\subsection*{Klient}
Pokud vyu¾íváme webových slu¾eb vìt¹inou se nespokojíme s vygenerovanou klientskou èástí aplikace a je tøeba ji roz¹íøit. Proto je tøeba klientskou èást aplikace také podrobit testování. Nejdøíve otestujeme klientskou èást s tzv. fale¹ným serverem (stub server). Stub server má pouze shodné rozhraní se skuteènì pou¾itým. Co¾ umo¾òuje velmi rychle vytvoøit testovací server, se kterým je mo¾no vyhodnotit vlastnosti odesílaných dotazù.

\section{Rùzné umístìní webových slu¾eb}
Dále pak je nutné uva¾ovat umístìní webových slu¾eb. Webové slu¾by mohou být dostupné z intranetu, kdy jsou slu¾by umístìny v uvnitø podnikové sítì a pøístup k nim mají pouze zamìstnanci nebo u¾ivatelé s pøístupem do dané uzavøené sítì. Pak existují webové  slu¾by dostupné z internetu, které jsou veøejnì dostupné.

\subsection*{Intranet}
Pokud je slu¾ba dostupná pouze z vnitøní sítì je mo¾né pøibli¾nì odhadnou kolik u¾ivatelù bude danou webovou slu¾bu vyu¾ívat, proto¾e pøístup do vnitøní sítì obvykle má omezený poèet u¾ivatelù. Pokud u¾ivatelé  pøistupují ke slu¾bì ve vnitøní síti z vnìj¹í sítì, mù¾e simulaci tohoto pøípadu u¾ití komplikovat pou¾itá bezpeènostní opatøení ( firewall, autentizace, VPN, apod.).

\subsection*{Internet}
U veøejnì dostupných webových slu¾eb je obtí¾nìj¹í odhadnout kolik u¾ivatelù bude tuto slu¾bu vyu¾ívat. Na druhou stranu, zde nemusejí být tak vysoké nároky na zabezpeèení jako na webové slu¾by dostupné z intranetu.



\section{Po¾adavky na webové slu¾by}
Webové slu¾by vy¾adují pro správné fungovaní specifické po¾adavky. Tìchto po¾adavkù je nìkolik skupin a obecnì se dají shrnout do jednoho pojmu - kvalita slu¾eb (QoS, Quality of Service). Pojem kvalita slu¾eb souvisí s více vrstvami TCP/IP modelu, proto¾e informace proudí skrze internet. V této práci se v¹ak hlavnì budeme zabývat kvalitou slu¾eb z pohledu aplikaèní vrstvy\footnote{Pojem QoS je také spojován s protokoly ni¾¹ích vrstev, kde zaji¹»uje speciální zacházení s urèitými typy informací (video, hlas apod.)}. 

Základními pojmy kvality slu¾eb jsou spolehlivost, výkon, robustnost, bezpeènost a ostatní jsou spí¹e odvozeny od tìchto základních po¾adavkù. Pokud je tøeba formální a pøesné rozli¹ení jednotlivých pojmù je vytvoøena tzv. dohoda o úrovni poskytování slu¾by (SLA, Service Level Agreement).

\begin{itemize}
\item {\bf Spolehlivost}\\
Spolehlivost u webových slu¾eb souvisí s plnìním definovaných po¾adavkù na slu¾bu. Pokud slu¾ba splòuje definované po¾adavky jako èas odezvy, dostupnost, schopnost zpracovat urèitý poèet transakcí za daný èasový okam¾ik apod. , je oznaèena za spolehlivou. Spolehlivost tak mù¾e být a èasto také je provázána s ostatními po¾adavky.
\item {\bf Výkon }\\
Výkon webové slu¾by vyjadøuje jak rychle doká¾e webová slu¾ba plnit po¾adované operace. Výkon lze dále rozdìlit na propustnost, doba odezvy. S výkoností souvisí i ¹kálovatelnost, proto¾e webová slu¾ba musí být ¹kálovatelná. Webové slu¾by by mìly být pøipraveny na pøípadné roz¹íøení v pøípadì nedostateèného výkonu.
\item {\bf Robustnost}\\
Robustnost je schopnost slu¾by fungovat pøedvídatelným zpùsobem pøi nesprávných, chybných, neúplných vstupech
\item {\bf Bezpeènost}\\
Jeliko¾ jsou webové slu¾by èasto exponovány velkému poètu u¾ivatelù, je nutné se zaruèit její bezpeènost. Mezi základní bezpeènostní vlastnosti patøí dostupnost, integrita a dùvìrnost.
\end{itemize}


\section{Zpùsoby testování webových slu¾eb}
Jeliko¾ webové slu¾by patøí mezi distribuované aplikace, je nutné nejdøíve testovat dostupnost dané slu¾by. Pokud slu¾ba není z nìjakého dùvodu dostupná, dal¹í druhy testování (rozhraní, zátì¾ové, bezpeènostní) ztrácejí na významu. Po té co zjistíme, ¾e slu¾ba je dostupná, je vhodné ovìøit její správné fungování funkèními testy. Pokud webová slu¾ba vykazuje správnou funkcionalitu, je vhodné otestovat dal¹í vlastnosti jako napøíklad bezpeènost nebo ¹kálovatelnost 
slu¾by.

Pøi testování spolehlivosti se zkou¹í, jak software zareaguje na neèekané události. Pro testování odolnosti webových slu¾eb existuje více technik, které se sna¾í simulovat rùzné chování prostøedí nebo u¾ivatelù. K testování odolnosti patøí zátì¾ové testování, které lze rozdìlit na stresové testování a testování dlouhodobé zátì¾e. Dal¹í technikou, která simuluje chování slu¾by na nestandardní vstupy, je injekce chyb. Tyto techniky jsou ní¾e podrobnì rozebrány ní¾e, proto¾e tato práce bude zamìøena právì na pou¾ití tìchto technik.


\subsection*{Funkèní testování}
Cíl funkèního testování v rámci webových slu¾eb je zji¹tìní, zda-li slu¾ba je dostupná a její funkcionalita odpovídá její specifikaci. V první øadì se testuje spojení, ve vìt¹inì pøípadù se jedná o HTTP po¾adavek. Pøijaté odpovìdi jsou pak podrobeny patøièné analýze.  Do kategorie funkèního testování spadá i technika injekce chyb, kdy se testuje reakce webové slu¾by na nevhodný nebo po¹kozený vstup.

Injekce chyb pøedstavuje techniku testování odolnosti aplikace. Pøi injekci chyb se zámìrnì vkládají chyby buï do zdrojového kódu pøed kompilací nebo za bìhu programu. Pøi vkládání chyb do zdrojového kódu programu pøed kompilací se jedná o tzv. {Compile-Time Injection}. Tuto techniku je mo¾no pou¾ít jak pro simulování softwarových chyb, tak i hardwarových. Technika zalo¾ená na vkládání chyb za bìhu programu se nazývá {Run-Time Injection}.Pro injekci chyb do webových slu¾eb lze vyu¾ít  techniku vkládání chyb za bìhu programu. Více informací obsahuje diplomová práce Martina ®ou¾elky, na kterou tato práce bude navazovat.


\subsection*{Zátì¾ové testování}
Webová slu¾ba je druh webové aplikace tedy k ní mù¾e pøistupovat velké mno¾ství u¾ivatelù. Proto je nutné vìdìt kolik u¾ivatelù je daná webová slu¾ba schopna obslou¾it za urèitý èasový okam¾ik. V tomto smìru existuje více zpùsobu jak pohlí¾et na výkonnost webové slu¾by. Je mo¾né mìøit poèet zpracovaných po¾adavkù za sekundu, poèet u¾ivatelù pøi zachování stejné latence. Zátì¾ové testy se v¹ak musí provádìt automaticky, proto¾e je obtí¾né testovat napø. obsluhu 1000 u¾ivatelù.


\subsection*{Bezpeènostní testování}
Bezpeènost je velmi dùle¾itou vlastností webových slu¾eb. Také je obtí¾né jí dosáhnout kvùli jejich vlastnostem.  Bezpeènostní rizika pøedstavují sebe-popisující zprávy, které øeknou o webové slu¾bì velmi mnoho informací. Dále pak zprávy mohou putovat nepøedvídatelnou cestou. 

U webových slu¾eb se provádí tzv. penetraèní testování, které má za cíl odhalit zranitelnosti webové slu¾by rùznými druhy útokù. Dal¹í zpùsob pasivnì odchytává komunikaci webových slu¾eb a analyzuje obsah zpráv. Tedy k bezpeènostnímu testování lze pøistupovat aktivním nebo pasivním zpùsobem.


\section{Ji¾ existující nástroje pro testování webových slu¾eb}

\subsection*{JMeter}
asdfdsadf

\subsection*{SOAPUI}
asdfasdf

\subsection*{Grinder}
asdsadf

\subsection*{Navázání na pøedchozí práci - FIWS}
asdsadf



\chapter{Specifikace po¾adavkù}

\section{Základní koncept}
dsadfsd

\section{Distribuované testování}
adfsadf

\section{Navázání na pøedchozí práci}
dd
\section{Integrace s nástroji pro testování spolehlivosti}
sadfasdf

\chapter{Návrh implementace}

\section{Základní koncept}
	sdfggfs
\section{Distribuovaný model}
sfdgdf
\section{Pou¾ití injekce chyb}
sdfg
\section{Provázání s nástroji pro testování spolehlivosti}
sdfg


\chapter{Popis implementace}
ss
\chapter{Prùbìh testování webových slu¾eb}
%=========================================================================
